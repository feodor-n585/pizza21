194.87.210.119
user:		root
pass:	c7KVlSsbBI
root@ruvds-6qkfp:~#
sudo

nano vvm.script
#!/bin/bash
cd /root/flasktest/
/usr/bin/python3 app.py  > /dev/null
chmod a+x vvm.script

crontab -e
@reboot /root/vvm.script



apt-get update
apt-get install python3 python3-pip python3-dev gcc git nginx
pip3 install flask
apt-get install -y ufw
ufw allow ssh
ufw allow http
ufw allow 443/tcp
ufw --force enable
reboot

service nginx status

mkdir certs
openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 -keyout certs/key.pem -out certs/cert.pem
cd certs
ls

cd /etc/nginx/
ls
cd sites-available/
nano flasktest
server {
    # РїСЂРѕСЃР»СѓС€РёРІР°РЅРёРµ РїРѕСЂС‚Р° 80 (http)
    listen 80;
    server_name _;
    location / {
        # РїРµСЂРµРЅР°РїСЂР°РІР»СЏС‚СЊ Р»СЋР±С‹Рµ Р·Р°РїСЂРѕСЃС‹ РЅР° РѕРґРёРЅ Рё С‚РѕС‚ Р¶Рµ URL-Р°РґСЂРµСЃ, РєР°Рє РЅР° https
        return 301 https://$host$request_uri;
    }
}
server {
    # РїСЂРѕСЃР»СѓС€РёРІР°РЅРёРµ РїРѕСЂС‚Р° 443 (https)
    listen 443 ssl;
    server_name _;

    # СЂР°СЃРїРѕР»РѕР¶РµРЅРёРµ self-signed SSL-СЃРµСЂС‚РёС„РёРєР°С‚Р°
    ssl_certificate /root/certs/cert.pem;
    ssl_certificate_key /root/certs/key.pem;

    # Р·Р°РїРёСЃСЊ РґРѕСЃС‚СѓРїР° Рё Р¶СѓСЂРЅР°Р»С‹ РѕС€РёР±РѕРє РІ /var/log
    access_log /var/log/catsanddogs_access.log;
    error_log /var/log/catsanddogs_error.log;

    location / {
        # РїРµСЂРµР°РґСЂРµСЃР°С†РёСЏ Р·Р°РїСЂРѕСЃРѕРІ РїСЂРёР»РѕР¶РµРЅРёР№ РЅР° СЃРµСЂРІРµСЂ waitress
        proxy_pass http://localhost:5000;
        proxy_redirect off;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

}

cp flasktest ../sites-enabled/
cd ../sites-enabled/
rm default
reboot

502 Bad Gateway
nginx/1.18.0 (Ubuntu)